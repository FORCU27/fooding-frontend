'use client';

import { useRouter } from 'next/navigation';
import { useState } from 'react';

import { Button, SortOrder, SortToggle } from '@repo/design-system/components/ceo';

import { useStore } from '@/context/StoreContext';
import { useGetStorePointShopList } from '@/hooks/store/useGetStorePointShopList';

const PointShopPage = () => {
  const router = useRouter();
  const [sortOrder, setSortOrder] = useState<SortOrder>('TOTAL');

  const { storeId } = useStore();

  const { data: pointShopList, isLoading } = useGetStorePointShopList({
    storeId: Number(storeId),
    isActive: true,
  });

  if (isLoading) {
    return (
      <div className='flex items-center justify-center h-dvh'>
        <p className='body-2 text-gray-4'>불러오는 중...</p>
      </div>
    );
  }

  if (!pointShopList || pointShopList.pageInfo.totalCount === 0) {
    return (
      <div className='flex flex-col h-dvh w-full max-w-[1080px] gap-5'>
        <h1 className='headline-2'>포인트샵</h1>
        <div className='flex flex-col gap-5 items-end'>
          <Button className='w-fit' onClick={() => router.push('/my/reward/pointshop/create')}>
            상품등록{' '}
          </Button>
          <SortToggle value={sortOrder} onSortChange={setSortOrder} />
        </div>
        <div className='flex flex-col w-full h-[690px] justify-center items-center bg-white rounded-3xl border border-gray-3'>
          <FoodingLogo />
          <p className='body-2 text-gray-3'>아직 포인트샵이 없어요</p>
        </div>
      </div>
    );
  }

  return (
    <div className='flex flex-col h-dvh w-full max-w-[1080px]'>
      <h1 className='headline-2 mb-4'>포인트샵</h1>
      <div className='flex flex-col gap-3 items-end'>
        <Button className='w-fit' onClick={() => router.push('/my/reward/pointshop/create')}>
          상품등록
        </Button>
        <SortToggle value={sortOrder} onSortChange={setSortOrder} />
      </div>
    </div>
  );
};

export default PointShopPage;

const FoodingLogo = () => {
  return (
    <svg
      width='204'
      height='48'
      viewBox='0 0 204 48'
      fill='none'
      xmlns='http://www.w3.org/2000/svg'
    >
      <path
        d='M24.3031 30.8384C24.3031 33.4371 23.7648 35.9305 22.7767 38.2399C23.822 38.7265 24.9869 39 26.2143 39C27.907 39 29.4776 38.4818 30.7855 37.5955C32.5407 36.404 33.3572 34.1998 32.8527 32.1246C31.5578 26.8168 29.3528 21.872 26.4145 17.4664C24.5137 14.6126 20.5041 14.1497 18.0442 16.5274C18.0286 16.5406 18.0156 16.5563 18 16.5695C21.9238 20.3859 24.3005 25.3755 24.3005 30.8384H24.3031Z'
        stroke='#E2DFDF'
        strokeWidth='3'
        strokeMiterlimit='10'
      />
      <path
        d='M23.4253 38.4655C24.442 36.178 25 33.7081 25 31.134C25 25.7227 22.5481 20.7804 18.5 17C14.4519 20.7804 12 25.7227 12 31.134C12 33.7081 12.5553 36.178 13.5747 38.4655C14.9643 39.432 16.6624 40 18.5 40C20.3376 40 22.0384 39.4294 23.4253 38.4655Z'
        stroke='#E2DFDF'
        strokeWidth='3'
        strokeMiterlimit='10'
      />
      <path
        d='M18 16.5695C17.9844 16.5563 17.9714 16.5406 17.9558 16.5274C15.4983 14.1497 11.4882 14.6126 9.58462 17.4664C6.64861 21.872 4.44334 26.8168 3.14827 32.1246C2.64116 34.1998 3.46033 36.404 5.2157 37.5955C6.52378 38.4818 8.09451 39 9.78747 39C11.0149 39 12.18 38.7265 13.2254 38.2372C12.2398 35.9279 11.6989 33.4371 11.6989 30.8384C11.6989 25.3755 14.0758 20.3859 18 16.5695Z'
        stroke='#E2DFDF'
        strokeWidth='3'
        strokeMiterlimit='10'
      />
      <path
        d='M18.5 11C21.5376 11 24 8.53757 24 5.5C24 2.46243 21.5376 0 18.5 0C15.4624 0 13 2.46243 13 5.5C13 8.53757 15.4624 11 18.5 11Z'
        fill='#E2DFDF'
      />
      <path
        d='M54.2402 4.50098V8.36523C52.993 8.39508 51.996 8.63425 51.3594 9.18262C50.6144 9.82129 50.3243 10.9036 50.3242 12.2393V13.6865H54.5V17.4258H50.3213V35.5H45.2109V17.4258H42.5V13.6904H45.2109V12.0381C45.2109 9.34066 46.0084 7.44886 47.5176 6.25195C48.974 5.10011 51.1892 4.49105 54.2402 4.50098Z'
        fill='#E2DFDF'
        stroke='#E2DFDF'
      />
      <path
        d='M69 13.5C71.1702 13.5 73.1212 13.9782 74.8662 14.9277C76.6087 15.8759 77.9816 17.2173 78.9873 18.9561C79.9891 20.6881 80.5 22.6979 80.5 25C80.5 27.2999 79.9796 29.3039 78.9492 31.0381C77.9125 32.7792 76.518 34.1223 74.7607 35.0713C73.0022 36.021 71.027 36.5 68.8281 36.5C66.6318 36.5 64.7246 36.0216 63.0088 35.0742L63.0098 35.0732C61.2957 34.1263 59.9507 32.7867 58.9717 31.0488C57.9957 29.3163 57.5 27.3051 57.5 25C57.5 22.8415 57.9463 20.9436 58.8301 19.2852L59.0127 18.9561C60.0184 17.2173 61.3913 15.8759 63.1338 14.9277C64.8788 13.9782 66.8298 13.5 69 13.5ZM68.9141 17.624C67.0978 17.624 65.5541 18.2729 64.3203 19.5615C63.0669 20.8708 62.4775 22.7134 62.4775 25.0039C62.4776 27.2913 63.052 29.1319 64.2754 30.4414C65.483 31.7338 67.0121 32.3828 68.832 32.3828C69.9808 32.3828 71.0712 32.1048 72.084 31.543L72.083 31.542C73.1161 30.9742 73.9306 30.125 74.5342 29.0176V29.0166C75.1426 27.8936 75.4365 26.548 75.4365 25.0039C75.4365 22.7094 74.828 20.8651 73.5449 19.5566C72.2852 18.272 70.7301 17.624 68.9141 17.624Z'
        fill='#E2DFDF'
        stroke='#E2DFDF'
      />
      <path
        d='M96 13.5C98.1702 13.5 100.121 13.9782 101.866 14.9277C103.609 15.8759 104.982 17.2173 105.987 18.9561C106.989 20.6881 107.5 22.6979 107.5 25C107.5 27.2999 106.98 29.3039 105.949 31.0381C104.913 32.7792 103.518 34.1223 101.761 35.0713C100.002 36.021 98.027 36.5 95.8281 36.5C93.6318 36.5 91.7246 36.0216 90.0088 35.0742L90.0098 35.0732C88.2957 34.1263 86.9506 32.7867 85.9717 31.0488C84.9957 29.3163 84.5 27.3051 84.5 25C84.5 22.8415 84.9463 20.9436 85.8301 19.2852L86.0127 18.9561C87.0184 17.2173 88.3913 15.8759 90.1338 14.9277C91.8788 13.9782 93.8298 13.5 96 13.5ZM95.9141 17.624C94.0978 17.624 92.5541 18.2729 91.3203 19.5615C90.0669 20.8708 89.4775 22.7134 89.4775 25.0039C89.4776 27.2913 90.052 29.1319 91.2754 30.4414C92.483 31.7338 94.0121 32.3828 95.832 32.3828C96.9808 32.3828 98.0712 32.1048 99.084 31.543L99.083 31.542C100.116 30.9742 100.931 30.125 101.534 29.0176V29.0166C102.143 27.8936 102.436 26.548 102.437 25.0039C102.437 22.7094 101.828 20.8651 100.545 19.5566C99.2852 18.272 97.7301 17.624 95.9141 17.624Z'
        fill='#E2DFDF'
        stroke='#E2DFDF'
      />
      <path
        d='M133.5 6.5V36.1289H128.595V31.5234L127.674 32.9658C127.002 34.0176 126.058 34.8722 124.824 35.5244C123.604 36.1694 122.176 36.5 120.523 36.5C118.673 36.4999 116.989 36.0276 115.462 35.085C113.937 34.1437 112.728 32.8136 111.84 31.082V31.0811L111.678 30.7539C110.896 29.1045 110.5 27.2162 110.5 25.0791C110.5 22.8618 110.928 20.9603 111.77 19.2812L111.842 19.1436C112.732 17.4261 113.939 16.1156 115.459 15.2012L115.46 15.2021C116.987 14.2854 118.686 13.8242 120.568 13.8242C121.99 13.8243 123.345 14.1319 124.635 14.748C125.928 15.3659 126.944 16.1783 127.694 17.1826L128.595 18.3896V6.5H133.5ZM122.023 17.917C121.002 17.917 120.044 18.1353 119.157 18.5703L118.782 18.7695C117.78 19.3423 116.979 20.1782 116.369 21.2539C115.749 22.3493 115.452 23.6331 115.452 25.0791C115.452 26.5269 115.752 27.8211 116.365 28.9424L116.366 28.9434C116.972 30.048 117.782 30.9104 118.795 31.5137C119.801 32.1127 120.88 32.4111 122.023 32.4111C123.162 32.4111 124.289 32.1181 125.309 31.5381C126.338 30.9524 127.147 30.1099 127.745 29.0293L127.746 29.0283C128.348 27.9336 128.639 26.6379 128.639 25.1641C128.639 23.7416 128.367 22.4885 127.808 21.4189V21.4111L127.745 21.2988C127.147 20.2181 126.338 19.3748 125.309 18.7891C124.291 18.2097 123.194 17.917 122.023 17.917Z'
        fill='#E2DFDF'
        stroke='#E2DFDF'
      />
      <path d='M145.5 14.5V36.5H140.5V14.5H145.5Z' fill='#E2DFDF' stroke='#E2DFDF' />
      <path
        d='M164.793 13.5C167.266 13.5 169.254 14.214 170.802 15.6201L171.105 15.9111C172.68 17.5004 173.5 19.7398 173.5 22.6982V35.5H168.666V23.4727C168.666 21.5907 168.185 20.0652 167.156 18.9756C166.127 17.8892 164.737 17.3663 163.043 17.3662C161.354 17.3662 159.913 17.8849 158.871 18.9717C157.823 20.0614 157.334 21.5887 157.334 23.4727V35.5H152.5V13.8242H157.334V17.585L158.226 16.46C158.953 15.5429 159.882 14.8188 161.022 14.292C162.158 13.7673 163.415 13.5001 164.793 13.5Z'
        fill='#E2DFDF'
        stroke='#E2DFDF'
      />
      <path
        d='M188.522 13.5C190.172 13.5 191.603 13.828 192.823 14.4678L193.091 14.6084C194.202 15.2358 195.076 16.0206 195.725 16.96L196.637 18.2803V13.8691H201.5V36.7363C201.5 38.8169 201.083 40.658 200.265 42.2666C199.452 43.8637 198.233 45.1366 196.593 46.0811C194.964 47.019 192.974 47.5 190.603 47.5C187.41 47.5 184.837 46.7503 182.85 45.2939C181.02 43.9504 179.932 42.1698 179.57 39.915H184.42C184.801 40.9336 185.498 41.757 186.49 42.374C187.596 43.0614 188.92 43.3925 190.436 43.3926C192.233 43.3926 193.739 42.8467 194.898 41.7246L194.899 41.7256C196.087 40.58 196.633 38.8822 196.633 36.7402V31.5303L195.722 32.8555C195.022 33.8728 194.051 34.7283 192.793 35.4238C191.559 36.1025 190.138 36.4521 188.522 36.4521C186.673 36.4521 184.99 35.9741 183.463 35.0205C181.938 34.0683 180.729 32.7218 179.841 30.9688H179.84C178.951 29.2217 178.5 27.2004 178.5 24.8926C178.5 22.5861 178.951 20.6158 179.84 18.8818C180.732 17.1414 181.931 15.816 183.439 14.8916C184.951 13.9654 186.642 13.5 188.522 13.5ZM190.022 17.6445C188.854 17.6445 187.769 17.9336 186.775 18.5078C185.773 19.0874 184.972 19.9324 184.363 21.0195C183.743 22.1264 183.448 23.4242 183.448 24.8857C183.448 26.2573 183.712 27.4918 184.249 28.5742L184.36 28.7891C184.966 29.9055 185.775 30.7773 186.788 31.3877C187.794 31.9939 188.874 32.2969 190.019 32.2969C191.158 32.2969 192.285 31.9999 193.305 31.4131C194.334 30.8204 195.143 29.9681 195.74 28.876L195.741 28.875C196.342 27.769 196.633 26.4601 196.633 24.9707C196.633 23.6289 196.396 22.4369 195.91 21.4053L195.923 21.3926L195.744 21.0654C195.147 19.9734 194.338 19.121 193.309 18.5283C192.291 17.9421 191.194 17.6446 190.022 17.6445Z'
        fill='#E2DFDF'
        stroke='#E2DFDF'
      />
      <path
        d='M142.5 4.5C143.272 4.5 143.904 4.72015 144.431 5.15625L144.65 5.35645C145.215 5.92547 145.5 6.6283 145.5 7.5C145.5 8.3722 145.215 9.07534 144.649 9.64453C144.086 10.2118 143.38 10.5 142.5 10.5C141.62 10.5 140.914 10.2118 140.351 9.64453C139.785 9.07534 139.5 8.3722 139.5 7.5C139.5 6.6278 139.785 5.92466 140.351 5.35547C140.914 4.78801 141.617 4.5 142.5 4.5Z'
        fill='#E2DFDF'
        stroke='#E2DFDF'
      />
    </svg>
  );
};
